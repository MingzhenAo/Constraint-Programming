# -*- coding: utf-8 -*-
"""
Created on Mon Oct 12 16:02:08 2020

@author: Mingzhen Ao
"""
import os
from os import path
start=[[12,23,32,00,43,52,63],[74,00,52,53,31,34,71],[41,74,63,64,52,53,42],[22,42,34,43,31,00,23],[84,00,00,00,11,81,14],[22,81,00,00,00,00,00],
      [21,54,32,43,63,72,81],[11,43,42,74,71,00,14],[71,00,51,62,53,00,73],[71,81,74,84,64,00,61],[21,22,23,24,41,51,31],[61,00,43,00,41,63,00],
      [51,61,71,81,31,41,00],[23,34,32,00,33,43,53],[73,74,53,34,33,54,00],[00,00,63,00,62,53,52],[21,23,42,52,32,61,63],[00,00,61,63,62,00,64],
      [24,71,61,62,23,52,13],[14,24,12,42,74,84,83],[12,74,13,52,44,73,83],[71,81,52,44,21,84,14],[22,63,13,23,11,62,33],[61,72,63,64,14,62,24]]
junior=[[23,32,21,22,81,82,54],[33,71,11,12,14,63,00],[62,00,00,00,53,64,73],[00,00,00,00,22,00,21],[62,74,22,82,34,00,12],[00,00,21,23,42,51,63],
        [62,00,00,00,51,52,61],[52,00,71,81,74,84,33],[21,22,14,23,42,51,81],[14,63,00,00,00,00,00],[81,00,11,84,00,00,14],[71,00,00,00,21,00,81],
        [72,00,00,00,00,00,71],[00,00,00,00,22,00,23],[42,00,72,00,53,64,44],[52,00,23,00,22,00,53],[00,00,43,83,74,00,00],[12,34,31,00,62,81,64],
        [62,00,34,53,00,00,23],[00,00,22,64,31,34,53],[00,00,21,63,23,61,00],[00,00,61,00,23,31,53],[00,00,22,00,42,00,32],[72,82,22,84,54,00,12]]
expert=[[33,52,00,00,00,00,00],[73,74,14,23,33,42,13],[00,00,51,00,41,61,00],[42,00,00,00,21,53,00],[22,23,82,83,51,62,00],[00,00,24,43,52,00,33],
        [52,00,73,00,33,00,54],[42,00,52,62,00,00,72],[00,00,61,00,72,00,43],[42,00,51,00,00,00,21],[62,74,42,71,23,00,00],[13,00,24,00,22,00,44],
        [21,33,53,00,61,71,00],[51,72,23,00,00,00,43],[31,32,61,00,54,84,00],[31,62,14,82,44,00,00],[33,00,42,43,00,00,32],[33,64,23,00,00,00,62],
        [31,71,22,73,43,54,00],[62,64,12,33,00,00,00],[00,00,41,52,42,84,12],[00,00,00,00,14,71,53],[23,34,64,00,52,71,00],[22,23,64,00,53,00,51]]
master=[[31,71,34,00,64,00,73],[00,00,13,63,32,54,00],[82,00,64,00,23,62,00],[31,83,22,44,00,00,33],[51,63,11,44,00,00,00],[63,00,53,00,43,00,33],
        [00,00,31,51,34,54,00],[42,00,54,00,63,00,00],[53,00,73,83,00,00,62],[53,73,00,00,00,00,42],[32,00,54,72,43,00,00],[42,73,23,00,00,00,00],
        [00,00,52,83,00,00,62],[64,00,13,73,32,41,00],[00,00,23,00,44,63,42],[73,74,12,00,11,52,63],[61,64,34,00,31,00,00],[44,73,31,32,00,00,23],
        [21,54,73,00,00,00,62],[34,53,11,84,00,00,32],[63,00,31,00,33,00,61],[41,44,11,73,63,00,00],[52,00,34,43,31,00,64],[00,00,22,83,52,00,54]]
wizard=[[43,00,51,83,32,00,00],[00,00,31,51,62,00,00],[23,00,31,41,44,63,61],[54,00,00,00,52,73,31],[34,63,13,32,00,00,00],[00,00,64,83,43,62,00],
        [00,00,82,00,32,52,34],[53,00,72,81,31,00,62],[53,00,42,64,00,00,00],[51,73,32,00,43,00,00],[42,00,71,00,54,00,33],[00,00,23,82,32,51,53],
        [42,00,51,82,00,00,00],[22,33,00,00,72,00,00],[00,00,44,00,22,73,00],[53,00,51,00,32,00,72],[00,00,13,82,00,00,74],[51,00,34,00,54,00,31],
        [23,00,71,72,14,63,00],[52,00,62,00,22,00,00],[00,00,63,00,43,00,51],[32,00,00,00,62,00,54],[51,52,43,00,00,00,00],[52,00,54,00,00,00,61]]
def create_models(difficulty,difficulty_data):
    n = 1
    while n<25:
        k=int(n-1)
        data=difficulty_data[k]
        f = open('CSPmodel.mzn')
        name='model'+str(n)+'.mzn'
        if not path.isdir(difficulty):
            os.mkdir(difficulty)
        if not path.isdir(difficulty+'/model'+str(n)):
            os.mkdir(difficulty+'/model'+str(n))
        with open(difficulty+'/model'+str(n)+'/'+name,"w") as f1:
            for line in f:
                f1.write(line);
            text ='\n'\
                'constraint Vpb1=' + str(data[0]) + ';\n'\
                'constraint Vpb2=' + str(data[1]) + ';\n'\
                'constraint Vpg1=' + str(data[2]) + ';\n'\
                'constraint Vpg2=' + str(data[3]) + ';\n'\
                'constraint Vpy1=' + str(data[4]) + ';\n'\
                'constraint Vpy2=' + str(data[5]) + ';\n'\
                'constraint Vpr='  + str(data[6]) + ';\n'
            f1.write(text)
        os.system("minizinc.exe -c --solver org.minizinc.mzn-fzn   "+difficulty+'/model'+str(n)+'/'+name+" --sac" )
        n+=1
create_models("start",start)
create_models("junior",junior)
create_models("expert",expert)
create_models("master",master)
create_models("wizard",wizard)
